

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>layerstack overview &mdash; layerstack 0.4.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="layerstack documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> layerstack
          

          
          </a>

          
            
            
              <div class="version">
                0.4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">layerstack overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#motivation">motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-layerstack-enabled-project">a layerstack-enabled project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/modules.html">layerstack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html">layerstack package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#module-layerstack.args">layerstack.args module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#module-layerstack.layer">layerstack.layer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#module-layerstack.stack">layerstack.stack module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#module-layerstack">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/layerstack.html">layerstack package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.tests.html">layerstack.tests package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html#module-layerstack.args">layerstack.args module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#layerstack-args">layerstack.args</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html#module-layerstack.layer">layerstack.layer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html#module-layerstack.stack">layerstack.stack module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#layerstack-stack">layerstack.stack</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/layerstack.html#module-layerstack">Module contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/layerstack.html#layerstack">layerstack</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">layerstack</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>layerstack overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="layerstack-overview">
<h1>layerstack overview<a class="headerlink" href="#layerstack-overview" title="Permalink to this headline">¶</a></h1>
<p>Layerstack supports computational analysis of models by making it
possible to create and share units of work, called <strong>layers</strong>, and then
assemble them into runnable, shareable workflows, called <strong>stacks</strong>.</p>
<div class="section" id="motivation">
<h2>motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>A lot of scientific and engineering computational work resembles the
following schematic. One or more modeling packages are used to run
simulations, optimizations, or other analyses; and this work is
supported by a number of scripts that are used to automate other
important tasks such as setting up input data, configuring the modeling
package, or collecting and visualizing outputs. Modern programming
languages make it straightforward to develop such tools; we’ve come a
long way since the days of punch cards. However, there are still some
contexts in which this framework is a bit lacking, mostly having to do
with collaboration and maintenance.</p>
<div class="figure align-default" id="id1">
<img alt="typical analysis workflow" src="_images/layerstack-suggested-usage----before-layerstack.png" />
<p class="caption"><span class="caption-text">typical analysis workflows</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The main idea of layerstack is that hidden in the collection of scripts
on the right are a number of units of work that perform specific
functions of potential interest to more than one modeler. Furthermore,
it is sometimes the case that entire workflows composed by performing a
series of such steps are the real unit of work that one would like to
document, share, tweak, replicate, etc.</p>
<div class="figure align-default" id="id2">
<img alt="the layerstack concept is to formally identify units of work" src="_images/layerstack-suggested-usage----layerstack-concept.png" />
<p class="caption"><span class="caption-text">layerstack-concept</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The core organizing principle of layerstack is to make these units of
work explicit, and to provide features that enable data, algorithm, and
workflow sharing, replication, and extension by a community of modelers.</p>
</div>
<div class="section" id="a-layerstack-enabled-project">
<h2>a layerstack-enabled project<a class="headerlink" href="#a-layerstack-enabled-project" title="Permalink to this headline">¶</a></h2>
<p>The envisioned use of layerstack is for modelers to write a <em>Layer</em>
whenever they have identified some sort of task that they would like to
repeatedly perform in one of their workflows. To create a layer, one
uses the <a class="reference internal" href="api/layerstack.html#layerstack.layer.Layer.create" title="layerstack.layer.Layer.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">layerstack.layer.Layer.create()</span></code></a> class method, which creates
a new folder whose name is based on the layer’s name, and which contains a
<code class="docutils literal notranslate"><span class="pre">layer.py</span></code> Python module. The layer developer then opens the
<code class="docutils literal notranslate"><span class="pre">layer.py</span></code> module file in a text editor and fills out the template
code that has been placed there. In particular, the developer will need
to specify the positional arguments, keyword arguments, and programming
logic that is invovled in applying the layer. Layers are typically
applied to models, but they can also be model-free, in which case they
might perform various pre- and post-processing tasks.</p>
<p>Once a library of layers has been created, the layers can be assembled
into <em>Stacks</em>, which can be saved to disk in json format, and can be
made runnable by setting all of the component layer arguments and
specifying a run directory. A project using layerstack to its fullest in
this way might have an architecture similar to:</p>
<div class="figure align-default" id="id3">
<img alt="analysis workflow using layerstack" src="_images/layerstack-suggested-usage----after-layerstack.png" />
<p class="caption"><span class="caption-text">layerstack analysis workflows</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>in which the project consists of a layer library, a stack library, a set
of base (starting) models, and a database of completed model runs. For
straightforward simulation or optimization models, stacks may be able to
perform entire runs. Starting from a base model, some layers may perform
pre-processing steps, others may transform the model to implement a
scenario or specify variables, one layer may run the simulation or
optimization model itself, and then there may be a series of
post-processing or analysis steps that produce summary datasets or
output visualizations.</p>
<p>To implement this structure, one modeler will need to write a class
derived from <a class="reference internal" href="api/layerstack.html#layerstack.layer.ModelLayerBase" title="layerstack.layer.ModelLayerBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">layerstack.layer.ModelLayerBase</span></code></a>, implement several of
its protected methods (i.e.,
<a class="reference internal" href="api/layerstack.html#layerstack.layer.ModelLayerBase._check_model_type" title="layerstack.layer.ModelLayerBase._check_model_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">layerstack.layer.ModelLayerBase._check_model_type()</span></code></a>,
<a class="reference internal" href="api/layerstack.html#layerstack.layer.ModelLayerBase._load_model" title="layerstack.layer.ModelLayerBase._load_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">layerstack.layer.ModelLayerBase._load_model()</span></code></a>, and
<a class="reference internal" href="api/layerstack.html#layerstack.layer.ModelLayerBase._save_model" title="layerstack.layer.ModelLayerBase._save_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">layerstack.layer.ModelLayerBase._save_model()</span></code></a>), and then make the
class definition available to her collaborators (e.g. all users of the
modeling package, or at least her immediate team members). Then, if you
specify this class as the <code class="docutils literal notranslate"><span class="pre">layer_base_class</span></code> in
<a class="reference internal" href="api/layerstack.html#layerstack.layer.Layer.create" title="layerstack.layer.Layer.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">layerstack.layer.Layer.create()</span></code></a>, <a class="reference internal" href="api/layerstack.html#layerstack.stack.Stack" title="layerstack.stack.Stack"><code class="xref py py-class docutils literal notranslate"><span class="pre">layerstack.stack.Stack</span></code></a> will know
how to identify, load, and save the models that you want to operate on
with your layers.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="api.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="layerstack documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright (c) 2021, Alliance for Sustainable Energy, LLC.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>